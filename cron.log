/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-06-29 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-06-29 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250629.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-06-30 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-06-30 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250630.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-01 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-01 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250701.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-02 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-02 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250702.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-03 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-03 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250703.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-04 00:00Z...
An error occurred: Error accessing http://weather.uwyo.edu/cgi-bin/sounding/?region=naconf&TYPE=TEXT%3ALIST&YEAR=2025&MONTH=07&FROM=0400&TO=0400&STNM=16622
Server Error (503: Sorry, the server is too busy to process your request.
Please try again later.
)
Could not retrieve or plot data. This might be due to no recent data for the station or a network issue.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-05 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-05 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250705.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-06 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-06 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 44.28 joule / kilogram
Calculated CIN: -655.97 joule / kilogram
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250706.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-07 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-07 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 71.60 joule / kilogram
Calculated CIN: -619.83 joule / kilogram
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250707.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-08 00:00Z...
An error occurred: Error accessing http://weather.uwyo.edu/cgi-bin/sounding/?region=naconf&TYPE=TEXT%3ALIST&YEAR=2025&MONTH=07&FROM=0800&TO=0800&STNM=16622
Server Error (503: Sorry, the server is too busy to process your request.
Please try again later.
)
Could not retrieve or plot data. This might be due to no recent data for the station or a network issue.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-09 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-09 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 129.27 joule / kilogram
Calculated CIN: -522.04 joule / kilogram
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250709.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-09 08:00:04,483 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-09 08:00:04,963 INFO Request ID is dca59c00-e7ce-4827-b0cb-d56aba8120d4
2025-07-09 08:00:05,054 INFO status has been updated to accepted
2025-07-09 08:00:18,852 INFO status has been updated to running
2025-07-09 08:00:26,604 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-02.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:26, 1.67MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:00<00:15, 2.82MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:14, 2.94MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:08, 4.70MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:01<00:08, 4.62MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:01<00:07, 4.89MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:02<00:07, 4.90MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:02<00:06, 5.04MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:02<00:06, 5.13MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:02<00:06, 5.31MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:02<00:05, 5.41MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:02<00:05, 5.47MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:03<00:05, 5.48MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:03<00:05, 5.55MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:03<00:04, 5.63MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:03<00:04, 5.63MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:03<00:04, 5.41MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:04<00:09, 2.53MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:06<00:20, 1.14MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:07<00:19, 1.18MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:07<00:14, 1.52MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:08<00:10, 1.89MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:08<00:08, 2.29MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:08<00:06, 2.71MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:08<00:05, 3.09MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:09<00:04, 3.46MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:09<00:04, 3.78MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:09<00:03, 4.08MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:09<00:03, 4.27MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:10<00:02, 4.30MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:10<00:02, 4.49MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:10<00:02, 4.59MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:10<00:01, 4.69MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:10<00:01, 4.76MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:11<00:01, 4.72MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:11<00:01, 4.80MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:11<00:01, 4.85MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:11<00:00, 4.78MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:11<00:00, 4.78MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:12<00:00, 4.82MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:12<00:00, 4.88MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:12<00:00, 4.89MB/s]                                                                                         2025-07-09 08:00:39,891 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-09 08:00:40,362 INFO Request ID is 4227f952-1803-4a30-8433-55146f019ac4
2025-07-09 08:00:40,442 INFO status has been updated to accepted
2025-07-09 08:00:48,941 INFO status has been updated to running
2025-07-09 08:00:54,100 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-04 at 12:00 UTC...
Could not download data for 2025-07-04. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-04 05:00
Trying the previous day...
Attempting to download data for 2025-07-03 at 12:00 UTC...
b5c45e4c03848b10f03edb8b394cdfcf.nc:   0%|          | 0.00/151k [00:00<?, ?B/s]b5c45e4c03848b10f03edb8b394cdfcf.nc: 100%|██████████| 151k/151k [00:00<00:00, 385kB/s]                                                                                      Successfully downloaded data for 2025-07-03.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Traceback (most recent call last):
  File "/home/dimitris/weather_station/get_anomaly.py", line 220, in <module>
    calculate_and_plot_anomaly(latest_day_file, latest_date)
  File "/home/dimitris/weather_station/get_anomaly.py", line 193, in calculate_and_plot_anomaly
    plt.savefig(output_filename, dpi=300, bbox_inches='tight')
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/pyplot.py", line 1228, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/figure.py", line 3395, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2204, in print_figure
    result = print_method(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2054, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 496, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 445, in _print_pil
    mpl.image.imsave(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/image.py", line 1676, in imsave
    image.save(fname, **pil_kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: './temp_anomaly_map/t850_anomaly_20250703.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
/home/dimitris/weather_station/plot_skewt.py:88: UserWarning: Interpolation point out of data bounds encountered
  lfc_pressure, lfc_temperature = mpcalc.lfc(p_for_lfc, T_for_lfc, Td_for_lfc, which='most_cape')
/home/dimitris/weather_station/plot_skewt.py:89: UserWarning: Interpolation point out of data bounds encountered
  el_pressure, el_temperature = mpcalc.el(p_for_lfc, T_for_lfc, Td_for_lfc, which='most_cape')
Attempting to fetch data for station 16622 for 2025-07-10 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-10 00:00Z.
Fewer than 3 points available; using surface-based parcel.
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250710.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-10 08:00:04,250 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-10 08:00:04,686 INFO Request ID is 8bcc78a2-86de-49e3-8311-076d53539e4f
2025-07-10 08:00:04,784 INFO status has been updated to accepted
2025-07-10 08:00:13,594 INFO status has been updated to running
2025-07-10 08:00:18,924 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-03.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:29, 1.50MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:00<00:18, 2.36MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:13, 3.07MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:11, 3.64MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:09, 4.10MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:01<00:09, 4.18MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:02<00:08, 4.24MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:02<00:08, 4.46MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:02<00:07, 4.85MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:02<00:06, 5.09MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:02<00:06, 5.07MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:03<00:06, 5.20MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:03<00:05, 5.28MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:03<00:05, 5.40MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:03<00:05, 5.37MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:03<00:05, 5.38MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:03<00:04, 5.48MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:04<00:04, 5.43MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:04<00:04, 5.37MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:04<00:04, 5.32MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:04<00:04, 5.44MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:04<00:04, 5.38MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:05<00:03, 5.48MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:05<00:03, 5.47MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:05<00:03, 5.48MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:05<00:03, 5.53MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:05<00:02, 5.54MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:06<00:02, 5.52MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:06<00:02, 5.52MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:06<00:02, 5.57MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:06<00:02, 5.48MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:06<00:02, 5.51MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:07<00:01, 5.45MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:07<00:01, 5.51MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:07<00:01, 5.48MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:07<00:01, 5.05MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:07<00:01, 5.00MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:08<00:00, 5.09MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:08<00:00, 4.83MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:08<00:00, 5.02MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:08<00:00, 5.20MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:08<00:00, 5.19MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:09<00:00, 5.20MB/s]                                                                                         2025-07-10 08:00:28,678 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-10 08:00:29,079 INFO Request ID is e695a058-fe42-4cf8-b7bb-66761d98b58b
2025-07-10 08:00:29,156 INFO status has been updated to accepted
2025-07-10 08:00:37,902 INFO status has been updated to running
2025-07-10 08:03:21,682 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-05 at 12:00 UTC...
Could not download data for 2025-07-05. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-05 05:00
Trying the previous day...
Attempting to download data for 2025-07-04 at 12:00 UTC...
7e0a353156c6c72cbbe826b5440cbad2.nc:   0%|          | 0.00/151k [00:00<?, ?B/s]7e0a353156c6c72cbbe826b5440cbad2.nc: 100%|██████████| 151k/151k [00:00<00:00, 393kB/s]                                                                                      Successfully downloaded data for 2025-07-04.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Traceback (most recent call last):
  File "/home/dimitris/weather_station/get_anomaly.py", line 220, in <module>
    calculate_and_plot_anomaly(latest_day_file, latest_date)
  File "/home/dimitris/weather_station/get_anomaly.py", line 193, in calculate_and_plot_anomaly
    plt.savefig(output_filename, dpi=300, bbox_inches='tight')
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/pyplot.py", line 1228, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/figure.py", line 3395, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2204, in print_figure
    result = print_method(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2054, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 496, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 445, in _print_pil
    mpl.image.imsave(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/image.py", line 1676, in imsave
    image.save(fname, **pil_kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: './temp_anomaly_map/t850_anomaly_20250704.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-11 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-11 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250711.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-11 08:00:05,327 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-11 08:00:05,585 INFO Request ID is 075b53f2-9acf-4e34-8fa2-034b4940ae0d
2025-07-11 08:00:05,708 INFO status has been updated to accepted
2025-07-11 08:00:14,282 INFO status has been updated to running
2025-07-11 08:00:19,449 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-04.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:25, 1.69MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:00<00:14, 2.91MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:00<00:11, 3.65MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:10, 3.95MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:08, 4.66MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:01<00:07, 5.04MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:01<00:07, 5.05MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:01<00:06, 5.30MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:02<00:06, 5.35MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:02<00:06, 5.51MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:02<00:05, 5.62MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:02<00:05, 5.62MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:02<00:05, 5.63MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:03<00:05, 5.56MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:03<00:05, 5.55MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:03<00:05, 5.52MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:03<00:04, 5.55MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:03<00:04, 5.57MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:03<00:04, 5.60MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:04<00:04, 5.55MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:04<00:04, 5.60MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:04<00:03, 5.54MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:04<00:03, 5.16MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:04<00:03, 5.28MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:05<00:03, 5.19MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:05<00:03, 5.30MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:05<00:03, 5.46MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:05<00:02, 5.33MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:05<00:02, 5.31MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:06<00:02, 5.47MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:06<00:02, 5.50MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:06<00:02, 4.96MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:06<00:01, 5.47MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:06<00:01, 5.31MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:07<00:01, 5.20MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:07<00:01, 5.22MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:07<00:01, 5.25MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:07<00:00, 5.31MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:07<00:00, 5.31MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:08<00:00, 5.06MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:08<00:00, 5.25MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:08<00:00, 5.22MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:08<00:00, 5.28MB/s]                                                                                         2025-07-11 08:00:28,825 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-11 08:00:29,192 INFO Request ID is da3885f2-5731-44f4-b5eb-0a472fba27a8
2025-07-11 08:00:29,270 INFO status has been updated to accepted
2025-07-11 08:00:43,052 INFO status has been updated to running
2025-07-11 08:00:50,728 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-06 at 12:00 UTC...
Could not download data for 2025-07-06. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-06 05:00
Trying the previous day...
Attempting to download data for 2025-07-05 at 12:00 UTC...
11db60a76f8fd3d0c2aa1b0163808cff.nc:   0%|          | 0.00/151k [00:00<?, ?B/s]11db60a76f8fd3d0c2aa1b0163808cff.nc: 100%|██████████| 151k/151k [00:00<00:00, 359kB/s]                                                                                      Successfully downloaded data for 2025-07-05.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Traceback (most recent call last):
  File "/home/dimitris/weather_station/get_anomaly.py", line 220, in <module>
    calculate_and_plot_anomaly(latest_day_file, latest_date)
  File "/home/dimitris/weather_station/get_anomaly.py", line 193, in calculate_and_plot_anomaly
    plt.savefig(output_filename, dpi=300, bbox_inches='tight')
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/pyplot.py", line 1228, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/figure.py", line 3395, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2204, in print_figure
    result = print_method(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2054, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 496, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 445, in _print_pil
    mpl.image.imsave(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/image.py", line 1676, in imsave
    image.save(fname, **pil_kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: './temp_anomaly_map/t850_anomaly_20250705.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-12 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-12 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250712.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-12 08:00:04,818 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-12 08:00:05,224 INFO Request ID is 3a58685c-1eec-43bc-95c0-5ee7c5cc166e
2025-07-12 08:00:05,427 INFO status has been updated to accepted
2025-07-12 08:00:14,154 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-05.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:35, 1.22MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:01<00:22, 1.90MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:16, 2.48MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:13, 3.08MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:11, 3.59MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:02<00:09, 4.05MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:02<00:08, 4.39MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:02<00:07, 4.61MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:02<00:07, 4.81MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:02<00:07, 4.77MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:03<00:06, 4.89MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:03<00:06, 5.12MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:03<00:06, 5.14MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:03<00:05, 5.30MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:03<00:05, 5.35MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:04<00:05, 5.44MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:04<00:05, 5.37MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:04<00:04, 5.30MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:04<00:04, 5.39MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:04<00:04, 5.44MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:05<00:05, 4.22MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:05<00:04, 5.01MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:05<00:03, 5.95MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:05<00:03, 5.79MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:05<00:03, 5.62MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:06<00:02, 5.59MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:06<00:02, 5.59MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:06<00:02, 5.28MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:06<00:02, 5.27MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:07<00:02, 5.17MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:07<00:02, 5.19MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:07<00:01, 5.20MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:07<00:01, 5.27MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:07<00:01, 5.31MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:07<00:01, 5.42MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:08<00:01, 5.32MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:08<00:00, 5.28MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:08<00:00, 4.54MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:08<00:00, 5.61MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:09<00:00, 5.68MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:09<00:00, 5.67MB/s]                                                                                         2025-07-12 08:00:24,503 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-12 08:00:25,094 INFO Request ID is 983caa43-4969-4e8a-997c-97f2c9912805
2025-07-12 08:00:25,214 INFO status has been updated to accepted
2025-07-12 08:00:34,128 INFO status has been updated to running
2025-07-12 08:00:39,312 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-07 at 12:00 UTC...
Could not download data for 2025-07-07. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-07 05:00
Trying the previous day...
Attempting to download data for 2025-07-06 at 12:00 UTC...
52bf257bfb1662666a0df2b9305c3692.nc:   0%|          | 0.00/151k [00:00<?, ?B/s]52bf257bfb1662666a0df2b9305c3692.nc: 100%|██████████| 151k/151k [00:00<00:00, 422kB/s]                                                                                      Successfully downloaded data for 2025-07-06.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Traceback (most recent call last):
  File "/home/dimitris/weather_station/get_anomaly.py", line 220, in <module>
    calculate_and_plot_anomaly(latest_day_file, latest_date)
  File "/home/dimitris/weather_station/get_anomaly.py", line 193, in calculate_and_plot_anomaly
    plt.savefig(output_filename, dpi=300, bbox_inches='tight')
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/pyplot.py", line 1228, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/figure.py", line 3395, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2204, in print_figure
    result = print_method(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2054, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 496, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 445, in _print_pil
    mpl.image.imsave(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/image.py", line 1676, in imsave
    image.save(fname, **pil_kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: './temp_anomaly_map/t850_anomaly_20250706.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-13 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-13 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Calculating instability indices...
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250713_0000.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-13 08:00:08,529 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-13 08:00:08,773 INFO Request ID is 92c91d52-8294-42fd-95ef-5efa4302cfe7
2025-07-13 08:00:08,903 INFO status has been updated to accepted
2025-07-13 08:00:18,298 INFO status has been updated to running
2025-07-13 08:00:23,455 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-06.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:28, 1.54MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:00<00:16, 2.60MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:14, 2.83MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:08, 4.60MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:01<00:07, 4.89MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:01<00:07, 5.06MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:02<00:06, 5.23MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:02<00:07, 4.86MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:02<00:06, 5.63MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:02<00:05, 5.63MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:02<00:05, 5.47MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:02<00:05, 5.81MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:03<00:05, 5.74MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:03<00:05, 5.60MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:03<00:05, 5.52MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:03<00:04, 5.53MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:03<00:04, 5.54MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:04<00:04, 5.40MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:04<00:04, 5.46MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:04<00:04, 5.53MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:04<00:04, 5.36MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:04<00:03, 5.49MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:05<00:03, 5.40MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:05<00:03, 5.43MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:05<00:03, 5.43MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:05<00:02, 5.51MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:05<00:03, 4.95MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:06<00:02, 5.73MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:06<00:02, 5.68MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:06<00:02, 5.74MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:06<00:01, 5.70MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:06<00:01, 5.53MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:06<00:01, 5.58MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:07<00:01, 5.51MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:07<00:01, 5.42MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:07<00:01, 5.55MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:07<00:00, 5.40MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:07<00:00, 5.27MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:08<00:00, 5.20MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:08<00:00, 5.26MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:08<00:00, 5.40MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:08<00:00, 5.44MB/s]                                                                                         2025-07-13 08:00:32,863 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-13 08:00:33,323 INFO Request ID is 9fff284b-6ef7-444c-a2e8-6fa601134669
2025-07-13 08:00:33,415 INFO status has been updated to accepted
2025-07-13 08:00:42,041 INFO status has been updated to running
2025-07-13 08:00:47,194 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-08 at 12:00 UTC...
Could not download data for 2025-07-08. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-08 05:00
Trying the previous day...
Attempting to download data for 2025-07-07 at 12:00 UTC...
5297c2ed500a7272da20436aeec7640e.nc:   0%|          | 0.00/152k [00:00<?, ?B/s]5297c2ed500a7272da20436aeec7640e.nc: 100%|██████████| 152k/152k [00:00<00:00, 374kB/s]                                                                                      Successfully downloaded data for 2025-07-07.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Traceback (most recent call last):
  File "/home/dimitris/weather_station/get_anomaly.py", line 220, in <module>
    calculate_and_plot_anomaly(latest_day_file, latest_date)
  File "/home/dimitris/weather_station/get_anomaly.py", line 193, in calculate_and_plot_anomaly
    plt.savefig(output_filename, dpi=300, bbox_inches='tight')
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/pyplot.py", line 1228, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/figure.py", line 3395, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2204, in print_figure
    result = print_method(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2054, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 496, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 445, in _print_pil
    mpl.image.imsave(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/image.py", line 1676, in imsave
    image.save(fname, **pil_kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: './temp_anomaly_map/t850_anomaly_20250707.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-14 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-14 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Calculating instability indices...
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250714_0000.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-14 08:00:05,062 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-14 08:00:05,315 INFO Request ID is bc3d563d-e203-4b95-ab22-d1bdb1478106
2025-07-14 08:00:05,426 INFO status has been updated to accepted
2025-07-14 08:00:14,153 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-07.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:35, 1.22MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:01<00:18, 2.26MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:13, 3.06MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:10, 3.74MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:09, 4.30MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:01<00:08, 4.70MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:01<00:07, 4.98MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:02<00:06, 5.19MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:02<00:06, 5.13MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:02<00:06, 5.10MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:02<00:06, 5.13MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:02<00:06, 5.25MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:03<00:05, 5.37MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:03<00:05, 5.36MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:03<00:05, 5.17MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:03<00:06, 4.57MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:04<00:04, 5.72MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:04<00:04, 5.70MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:04<00:04, 5.67MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:04<00:04, 5.62MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:04<00:03, 5.70MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:05<00:03, 5.66MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:05<00:03, 5.63MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:05<00:03, 5.72MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:05<00:03, 5.62MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:05<00:02, 5.61MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:05<00:02, 5.65MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:06<00:02, 5.59MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:06<00:02, 5.69MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:06<00:02, 5.66MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:06<00:01, 5.81MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:06<00:01, 5.76MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:07<00:01, 5.70MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:07<00:01, 5.77MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:07<00:01, 5.82MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:07<00:00, 5.97MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:07<00:00, 5.81MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:07<00:00, 5.83MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:08<00:00, 5.75MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:08<00:00, 5.70MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:08<00:00, 5.63MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:08<00:00, 5.49MB/s]                                                                                         2025-07-14 08:00:23,517 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-14 08:00:23,929 INFO Request ID is 25a084b7-0b6a-4664-98fa-c85dfcaf0c25
2025-07-14 08:00:24,010 INFO status has been updated to accepted
2025-07-14 08:00:28,992 INFO status has been updated to running
2025-07-14 08:00:32,469 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-09 at 12:00 UTC...
Could not download data for 2025-07-09. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-09 05:00
Trying the previous day...
Attempting to download data for 2025-07-08 at 12:00 UTC...
dc56e61cdb4669d80a667cb39cd47039.nc:   0%|          | 0.00/152k [00:00<?, ?B/s]dc56e61cdb4669d80a667cb39cd47039.nc: 100%|██████████| 152k/152k [00:00<00:00, 412kB/s]                                                                                      Successfully downloaded data for 2025-07-08.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Traceback (most recent call last):
  File "/home/dimitris/weather_station/get_anomaly.py", line 220, in <module>
    calculate_and_plot_anomaly(latest_day_file, latest_date)
  File "/home/dimitris/weather_station/get_anomaly.py", line 193, in calculate_and_plot_anomaly
    plt.savefig(output_filename, dpi=300, bbox_inches='tight')
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/pyplot.py", line 1228, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/figure.py", line 3395, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2204, in print_figure
    result = print_method(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2054, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 496, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 445, in _print_pil
    mpl.image.imsave(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/image.py", line 1676, in imsave
    image.save(fname, **pil_kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: './temp_anomaly_map/t850_anomaly_20250708.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-15 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-15 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Calculating instability indices...
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250715_0000.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-15 08:00:05,444 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-15 08:00:05,854 INFO Request ID is 0fdbf5b3-4627-490b-ab42-b30e67075183
2025-07-15 08:00:05,948 INFO status has been updated to accepted
2025-07-15 08:00:14,525 INFO status has been updated to running
2025-07-15 08:00:19,695 INFO status has been updated to accepted
2025-07-15 08:00:27,499 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-08.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:27, 1.58MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:00<00:17, 2.48MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:12, 3.31MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:10, 3.92MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:09, 4.38MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:01<00:08, 4.70MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:01<00:07, 4.97MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:02<00:07, 4.97MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:02<00:07, 5.00MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:02<00:07, 4.54MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:02<00:05, 5.61MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:03<00:05, 5.60MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:03<00:05, 5.66MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:03<00:05, 5.68MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:03<00:05, 5.14MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:03<00:04, 5.70MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:03<00:04, 5.57MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:04<00:04, 5.45MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:04<00:04, 5.31MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:04<00:04, 5.34MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:04<00:04, 5.24MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:04<00:03, 5.39MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:05<00:03, 5.01MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:05<00:03, 5.11MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:05<00:03, 5.22MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:05<00:03, 5.14MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:06<00:02, 5.25MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:06<00:02, 5.23MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:06<00:02, 5.32MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:06<00:02, 5.39MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:06<00:02, 5.10MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:07<00:02, 4.88MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:07<00:01, 5.05MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:07<00:01, 5.01MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:07<00:01, 4.76MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:07<00:01, 4.66MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:08<00:01, 4.58MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:08<00:00, 4.67MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:08<00:00, 4.65MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:08<00:00, 4.72MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:09<00:00, 4.81MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:09<00:00, 4.90MB/s]                                                                                         2025-07-15 08:00:37,547 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-15 08:00:37,924 INFO Request ID is 0ccf262f-6d93-4ff6-a8ea-21275e7e5e63
2025-07-15 08:00:37,999 INFO status has been updated to accepted
2025-07-15 08:00:46,738 INFO status has been updated to running
2025-07-15 08:00:51,878 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-10 at 12:00 UTC...
Could not download data for 2025-07-10. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-10 05:00
Trying the previous day...
Attempting to download data for 2025-07-09 at 12:00 UTC...
629ed6deef3895c3c48295914ef4a7e1.nc:   0%|          | 0.00/152k [00:00<?, ?B/s]629ed6deef3895c3c48295914ef4a7e1.nc: 100%|██████████| 152k/152k [00:00<00:00, 391kB/s]                                                                                      Successfully downloaded data for 2025-07-09.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Traceback (most recent call last):
  File "/home/dimitris/weather_station/get_anomaly.py", line 220, in <module>
    calculate_and_plot_anomaly(latest_day_file, latest_date)
  File "/home/dimitris/weather_station/get_anomaly.py", line 193, in calculate_and_plot_anomaly
    plt.savefig(output_filename, dpi=300, bbox_inches='tight')
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/pyplot.py", line 1228, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/figure.py", line 3395, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2204, in print_figure
    result = print_method(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2054, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 496, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 445, in _print_pil
    mpl.image.imsave(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/image.py", line 1676, in imsave
    image.save(fname, **pil_kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: './temp_anomaly_map/t850_anomaly_20250709.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-16 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-16 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Calculating instability indices...
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250716_0000.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-16 08:00:05,088 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-16 08:00:05,623 INFO Request ID is ece196df-d34c-404d-9fee-11e0ea6f1f0a
2025-07-16 08:00:05,748 INFO status has been updated to accepted
2025-07-16 08:00:14,901 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-09.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:27, 1.56MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:00<00:15, 2.73MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:11, 3.60MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:11, 3.54MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:01<00:07, 4.98MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:01<00:07, 5.10MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:01<00:07, 5.17MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:02<00:06, 5.22MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:02<00:06, 5.26MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:02<00:06, 5.28MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:02<00:06, 5.15MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:03<00:06, 5.12MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:03<00:05, 5.10MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:03<00:05, 5.26MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:03<00:05, 5.36MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:03<00:04, 5.39MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:03<00:04, 5.48MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:04<00:04, 5.57MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:04<00:04, 5.38MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:04<00:04, 4.84MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:04<00:03, 5.67MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:04<00:03, 5.24MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:05<00:03, 5.66MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:05<00:03, 5.44MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:05<00:03, 5.54MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:05<00:02, 5.47MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:05<00:02, 5.54MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:06<00:02, 5.55MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:06<00:02, 5.62MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:06<00:02, 5.65MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:06<00:01, 5.68MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:06<00:01, 5.66MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:07<00:01, 5.08MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:07<00:01, 5.09MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:07<00:01, 5.11MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:07<00:01, 5.30MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:07<00:00, 5.17MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:08<00:00, 5.38MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:08<00:00, 5.42MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:08<00:00, 5.38MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:08<00:00, 5.19MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:08<00:00, 5.25MB/s]                                                                                         2025-07-16 08:00:24,536 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-16 08:00:24,941 INFO Request ID is 897e9eb4-cdee-42d8-b908-80f3528a594e
2025-07-16 08:00:25,030 INFO status has been updated to accepted
2025-07-16 08:00:33,545 INFO status has been updated to running
2025-07-16 08:00:46,410 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-11 at 12:00 UTC...
Could not download data for 2025-07-11. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-11 05:00
Trying the previous day...
Attempting to download data for 2025-07-10 at 12:00 UTC...
77c3edc90ace6665be9ed782a7a33450.nc:   0%|          | 0.00/152k [00:00<?, ?B/s]77c3edc90ace6665be9ed782a7a33450.nc: 100%|██████████| 152k/152k [00:00<00:00, 383kB/s]                                                                                      Successfully downloaded data for 2025-07-10.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Traceback (most recent call last):
  File "/home/dimitris/weather_station/get_anomaly.py", line 220, in <module>
    calculate_and_plot_anomaly(latest_day_file, latest_date)
  File "/home/dimitris/weather_station/get_anomaly.py", line 193, in calculate_and_plot_anomaly
    plt.savefig(output_filename, dpi=300, bbox_inches='tight')
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/pyplot.py", line 1228, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/figure.py", line 3395, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2204, in print_figure
    result = print_method(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2054, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 496, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 445, in _print_pil
    mpl.image.imsave(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/image.py", line 1676, in imsave
    image.save(fname, **pil_kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: './temp_anomaly_map/t850_anomaly_20250710.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-17 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-17 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Calculating instability indices...
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250717_0000.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-17 08:00:09,892 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-17 08:00:10,153 INFO Request ID is 6f500e6f-fb23-4787-8612-6fe0cee150a8
2025-07-17 08:00:10,616 INFO status has been updated to accepted
2025-07-17 08:00:15,668 INFO status has been updated to running
2025-07-17 08:00:19,146 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-10.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:25, 1.71MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:00<00:15, 2.81MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:11, 3.60MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:09, 4.14MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:08, 4.41MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:01<00:07, 4.82MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:01<00:07, 5.09MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:01<00:06, 5.22MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:02<00:06, 5.24MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:02<00:06, 5.46MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:02<00:05, 5.54MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:02<00:05, 5.47MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:03<00:06, 4.54MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:03<00:05, 5.36MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:03<00:05, 5.29MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:03<00:05, 5.30MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:03<00:04, 5.32MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:04<00:04, 5.12MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:04<00:04, 5.07MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:04<00:04, 5.23MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:04<00:04, 5.29MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:04<00:03, 5.38MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:05<00:03, 5.14MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:05<00:04, 4.28MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:05<00:02, 5.79MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:05<00:02, 5.71MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:06<00:02, 5.64MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:06<00:02, 5.32MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:06<00:02, 5.33MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:06<00:02, 5.37MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:06<00:01, 5.38MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:07<00:01, 5.30MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:07<00:01, 5.32MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:07<00:01, 5.34MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:07<00:01, 5.38MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:07<00:00, 5.42MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:08<00:00, 5.36MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:08<00:00, 5.39MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:08<00:00, 5.38MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:08<00:00, 5.57MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:08<00:00, 4.98MB/s]                                                                                         2025-07-17 08:00:29,139 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-17 08:00:29,651 INFO Request ID is e77d71d4-3938-4f1c-84ef-bf9fb4233fc2
2025-07-17 08:00:29,730 INFO status has been updated to accepted
2025-07-17 08:00:43,535 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-12 at 12:00 UTC...
Could not download data for 2025-07-12. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-12 05:00
Trying the previous day...
Attempting to download data for 2025-07-11 at 12:00 UTC...
554e7dd12504749eedcb8cd1e0397ae3.nc:   0%|          | 0.00/152k [00:00<?, ?B/s]554e7dd12504749eedcb8cd1e0397ae3.nc: 100%|██████████| 152k/152k [00:00<00:00, 270kB/s]                                                                                      Successfully downloaded data for 2025-07-11.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Traceback (most recent call last):
  File "/home/dimitris/weather_station/get_anomaly.py", line 220, in <module>
    calculate_and_plot_anomaly(latest_day_file, latest_date)
  File "/home/dimitris/weather_station/get_anomaly.py", line 193, in calculate_and_plot_anomaly
    plt.savefig(output_filename, dpi=300, bbox_inches='tight')
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/pyplot.py", line 1228, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/figure.py", line 3395, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2204, in print_figure
    result = print_method(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2054, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 496, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 445, in _print_pil
    mpl.image.imsave(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/image.py", line 1676, in imsave
    image.save(fname, **pil_kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: './temp_anomaly_map/t850_anomaly_20250711.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-18 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-18 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Calculating instability indices...
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250718_0000.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-18 08:00:04,610 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-18 08:00:04,965 INFO Request ID is e32d5610-0615-4288-a098-4fcfa5ab9bbe
2025-07-18 08:00:05,333 INFO status has been updated to accepted
2025-07-18 08:00:13,866 INFO status has been updated to running
2025-07-18 08:00:19,027 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-11.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:40, 1.09MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:01<00:23, 1.79MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:17, 2.39MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:13, 2.94MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:02<00:11, 3.41MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:02<00:10, 3.82MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:02<00:09, 4.06MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:02<00:08, 4.23MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:02<00:07, 4.50MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:03<00:07, 4.74MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:03<00:06, 4.94MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:03<00:06, 5.12MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:03<00:06, 5.07MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:03<00:05, 5.10MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:04<00:05, 5.12MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:04<00:05, 5.22MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:04<00:05, 5.14MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:04<00:04, 5.28MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:04<00:04, 5.43MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:05<00:04, 5.38MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:05<00:04, 5.56MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:05<00:03, 5.63MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:05<00:04, 4.48MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:05<00:03, 5.84MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:06<00:03, 5.69MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:06<00:02, 5.61MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:06<00:02, 5.64MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:06<00:02, 5.65MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:06<00:02, 5.54MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:07<00:02, 5.53MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:07<00:02, 5.47MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:07<00:01, 5.52MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:07<00:01, 5.60MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:07<00:01, 5.45MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:08<00:01, 5.25MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:08<00:01, 4.62MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:08<00:00, 5.39MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:08<00:00, 5.38MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:08<00:00, 5.34MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:09<00:00, 5.42MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:09<00:00, 5.51MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:09<00:00, 5.49MB/s]                                                                                         2025-07-18 08:00:29,160 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-18 08:00:29,542 INFO Request ID is bd914e0b-b91a-49c2-b529-97aa762300a8
2025-07-18 08:00:29,651 INFO status has been updated to accepted
2025-07-18 08:00:38,267 INFO status has been updated to running
2025-07-18 08:00:51,351 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-13 at 12:00 UTC...
Could not download data for 2025-07-13. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-13 05:00
Trying the previous day...
Attempting to download data for 2025-07-12 at 12:00 UTC...
2e3a114acc037e338f08bb471ca55cab.nc:   0%|          | 0.00/152k [00:00<?, ?B/s]2e3a114acc037e338f08bb471ca55cab.nc: 100%|██████████| 152k/152k [00:00<00:00, 365kB/s]                                                                                      Successfully downloaded data for 2025-07-12.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Traceback (most recent call last):
  File "/home/dimitris/weather_station/get_anomaly.py", line 220, in <module>
    calculate_and_plot_anomaly(latest_day_file, latest_date)
  File "/home/dimitris/weather_station/get_anomaly.py", line 193, in calculate_and_plot_anomaly
    plt.savefig(output_filename, dpi=300, bbox_inches='tight')
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/pyplot.py", line 1228, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/figure.py", line 3395, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2204, in print_figure
    result = print_method(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2054, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 496, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 445, in _print_pil
    mpl.image.imsave(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/image.py", line 1676, in imsave
    image.save(fname, **pil_kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: './temp_anomaly_map/t850_anomaly_20250712.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-19 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-19 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 86.48 joule / kilogram
Calculated CIN: -288.10 joule / kilogram
Calculating instability indices...
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250719_0000.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-19 08:00:04,874 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-19 08:00:05,100 INFO Request ID is 5d6016d5-4a0d-4465-b4da-9125d2275086
2025-07-19 08:00:05,203 INFO status has been updated to accepted
2025-07-19 08:00:13,919 INFO status has been updated to running
2025-07-19 08:00:19,053 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-12.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:27, 1.59MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:00<00:17, 2.49MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:12, 3.21MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:10, 3.86MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:09, 4.30MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:01<00:08, 4.73MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:01<00:07, 5.05MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:02<00:06, 5.32MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:02<00:06, 5.29MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:02<00:06, 5.30MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:02<00:06, 5.45MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:02<00:05, 5.45MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:03<00:05, 5.49MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:03<00:05, 5.39MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:03<00:05, 5.37MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:03<00:05, 5.45MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:03<00:04, 5.51MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:03<00:04, 5.63MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:04<00:05, 4.14MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:04<00:03, 5.92MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:04<00:03, 5.70MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:04<00:03, 5.69MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:05<00:03, 5.69MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:05<00:03, 5.57MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:05<00:03, 5.67MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:05<00:02, 5.56MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:05<00:02, 5.44MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:06<00:02, 5.44MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:06<00:02, 5.51MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:06<00:02, 5.50MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:06<00:02, 5.55MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:06<00:01, 5.64MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:06<00:01, 5.69MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:07<00:01, 5.53MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:07<00:01, 5.54MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:07<00:01, 5.57MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:07<00:00, 5.58MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:07<00:00, 5.48MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:08<00:00, 5.51MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:08<00:00, 5.47MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:08<00:00, 4.65MB/s]                                                                                         2025-07-19 08:00:28,377 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-19 08:00:28,804 INFO Request ID is 9a05483a-2fc2-49a1-bd60-2ab23f213a70
2025-07-19 08:00:28,909 INFO status has been updated to accepted
2025-07-19 08:00:50,340 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-14 at 12:00 UTC...
Could not download data for 2025-07-14. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-14 05:00
Trying the previous day...
Attempting to download data for 2025-07-13 at 12:00 UTC...
7aafb55a04aea3b9260e0c45e994b2b9.nc:   0%|          | 0.00/151k [00:00<?, ?B/s]7aafb55a04aea3b9260e0c45e994b2b9.nc: 100%|██████████| 151k/151k [00:00<00:00, 435kB/s]                                                                                      Successfully downloaded data for 2025-07-13.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Traceback (most recent call last):
  File "/home/dimitris/weather_station/get_anomaly.py", line 220, in <module>
    calculate_and_plot_anomaly(latest_day_file, latest_date)
  File "/home/dimitris/weather_station/get_anomaly.py", line 193, in calculate_and_plot_anomaly
    plt.savefig(output_filename, dpi=300, bbox_inches='tight')
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/pyplot.py", line 1228, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/figure.py", line 3395, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2204, in print_figure
    result = print_method(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2054, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 496, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 445, in _print_pil
    mpl.image.imsave(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/image.py", line 1676, in imsave
    image.save(fname, **pil_kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: './temp_anomaly_map/t850_anomaly_20250713.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-20 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-20 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 8.54 joule / kilogram
Calculated CIN: -301.57 joule / kilogram
Calculating instability indices...
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250720_0000.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-20 08:00:04,807 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-20 08:00:05,070 INFO Request ID is d042d621-305f-440f-b8f0-8f4ed3916bf1
2025-07-20 08:00:05,163 INFO status has been updated to accepted
2025-07-20 08:00:18,814 INFO status has been updated to running
2025-07-20 08:00:26,492 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-13.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:33, 1.29MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:01<00:22, 1.89MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:17, 2.43MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:13, 2.93MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:12, 3.24MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:02<00:10, 3.80MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:02<00:08, 4.23MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:02<00:08, 4.47MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:02<00:07, 4.66MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:02<00:07, 4.84MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:03<00:06, 5.10MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:03<00:06, 5.21MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:03<00:05, 5.38MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:03<00:05, 5.56MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:03<00:05, 5.71MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:04<00:04, 5.64MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:04<00:04, 5.71MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:04<00:04, 5.68MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:04<00:04, 5.71MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:04<00:04, 5.79MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:04<00:04, 5.66MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:05<00:04, 4.56MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:05<00:03, 6.16MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:05<00:03, 5.95MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:05<00:03, 5.81MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:06<00:02, 5.79MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:06<00:02, 5.71MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:06<00:02, 5.73MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:06<00:02, 5.74MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:06<00:02, 5.86MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:06<00:01, 5.87MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:07<00:01, 5.96MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:07<00:01, 6.02MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:07<00:01, 6.02MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:07<00:01, 5.94MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:07<00:01, 5.84MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:08<00:00, 5.72MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:08<00:00, 5.72MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:08<00:00, 5.67MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:08<00:00, 5.55MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:08<00:00, 4.67MB/s]                                                                                         2025-07-20 08:00:36,157 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-20 08:00:36,551 INFO Request ID is e6867d32-0e58-4dae-9e01-82cf97304c41
2025-07-20 08:00:36,636 INFO status has been updated to accepted
2025-07-20 08:00:50,336 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-15 at 12:00 UTC...
Could not download data for 2025-07-15. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-15 05:00
Trying the previous day...
Attempting to download data for 2025-07-14 at 12:00 UTC...
11f965e7fb25fa332914202ad41bf107.nc:   0%|          | 0.00/151k [00:00<?, ?B/s]11f965e7fb25fa332914202ad41bf107.nc: 100%|██████████| 151k/151k [00:00<00:00, 376kB/s]                                                                                      Successfully downloaded data for 2025-07-14.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Traceback (most recent call last):
  File "/home/dimitris/weather_station/get_anomaly.py", line 220, in <module>
    calculate_and_plot_anomaly(latest_day_file, latest_date)
  File "/home/dimitris/weather_station/get_anomaly.py", line 193, in calculate_and_plot_anomaly
    plt.savefig(output_filename, dpi=300, bbox_inches='tight')
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/pyplot.py", line 1228, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/figure.py", line 3395, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2204, in print_figure
    result = print_method(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2054, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 496, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 445, in _print_pil
    mpl.image.imsave(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/image.py", line 1676, in imsave
    image.save(fname, **pil_kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: './temp_anomaly_map/t850_anomaly_20250714.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-21 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-21 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Calculating instability indices...
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250721_0000.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-21 08:00:06,263 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-21 08:00:06,471 INFO Request ID is 174e8afe-0652-41ef-9142-1ec7d0bf86ab
2025-07-21 08:00:06,567 INFO status has been updated to accepted
2025-07-21 08:00:15,134 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-14.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:32, 1.32MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:01<00:20, 2.10MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:15, 2.74MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:12, 3.30MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:10, 3.75MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:01<00:09, 4.27MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:02<00:08, 4.16MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:02<00:07, 4.85MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:02<00:07, 4.83MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:02<00:07, 4.69MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:03<00:07, 4.46MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:03<00:07, 4.39MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:03<00:07, 4.33MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:03<00:07, 4.22MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:04<00:06, 4.23MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:04<00:07, 3.94MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:04<00:07, 3.69MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:05<00:07, 3.59MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:05<00:06, 3.61MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:05<00:06, 3.65MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:05<00:06, 3.58MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:06<00:05, 3.68MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:06<00:05, 3.69MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:06<00:05, 3.77MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:06<00:04, 3.80MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:07<00:04, 3.85MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:07<00:04, 3.80MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:07<00:04, 3.75MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:08<00:03, 3.78MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:08<00:03, 3.82MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:08<00:03, 3.76MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:08<00:02, 3.79MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:09<00:02, 3.84MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:09<00:02, 3.87MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:09<00:02, 3.92MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:09<00:01, 3.84MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:10<00:01, 3.81MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:10<00:01, 3.90MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:10<00:00, 3.96MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:11<00:00, 3.97MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:11<00:00, 4.07MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:11<00:00, 4.16MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:11<00:00, 4.07MB/s]                                                                                         2025-07-21 08:00:27,688 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-21 08:00:28,154 INFO Request ID is 5f8621f6-e693-410f-ad5a-baf768ffe5dc
2025-07-21 08:00:28,287 INFO status has been updated to accepted
2025-07-21 08:00:36,758 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-16 at 12:00 UTC...
Could not download data for 2025-07-16. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-16 05:00
Trying the previous day...
Attempting to download data for 2025-07-15 at 12:00 UTC...
6ad64edf10a975bac8c0146e42f2ec71.nc:   0%|          | 0.00/151k [00:00<?, ?B/s]6ad64edf10a975bac8c0146e42f2ec71.nc: 100%|██████████| 151k/151k [00:00<00:00, 385kB/s]                                                                                      Successfully downloaded data for 2025-07-15.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Traceback (most recent call last):
  File "/home/dimitris/weather_station/get_anomaly.py", line 220, in <module>
    calculate_and_plot_anomaly(latest_day_file, latest_date)
  File "/home/dimitris/weather_station/get_anomaly.py", line 193, in calculate_and_plot_anomaly
    plt.savefig(output_filename, dpi=300, bbox_inches='tight')
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/pyplot.py", line 1228, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/figure.py", line 3395, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2204, in print_figure
    result = print_method(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2054, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 496, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 445, in _print_pil
    mpl.image.imsave(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/image.py", line 1676, in imsave
    image.save(fname, **pil_kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: './temp_anomaly_map/t850_anomaly_20250715.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-22 00:00Z...
An error occurred: list index out of range
Could not retrieve or plot data. This might be due to no recent data for the station or a network issue.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-22 08:00:05,090 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-22 08:00:05,356 INFO Request ID is ea3695c2-2915-4196-9c5b-c0d0c0d73173
2025-07-22 08:00:05,456 INFO status has been updated to accepted
2025-07-22 08:00:14,246 INFO status has been updated to running
2025-07-22 08:00:19,394 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-15.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:28, 1.55MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:00<00:17, 2.38MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:13, 3.08MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:11, 3.65MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:09, 4.07MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:01<00:08, 4.34MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:01<00:07, 4.80MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:02<00:07, 5.09MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:02<00:06, 5.30MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:02<00:06, 5.41MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:02<00:06, 5.41MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:02<00:05, 5.61MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:03<00:05, 5.59MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:03<00:05, 5.69MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:03<00:05, 5.56MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:03<00:04, 5.62MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:03<00:04, 5.52MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:04<00:04, 5.57MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:04<00:04, 5.39MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:04<00:05, 4.59MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:04<00:03, 5.81MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:04<00:03, 5.64MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:05<00:03, 5.56MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:05<00:03, 5.61MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:05<00:03, 5.59MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:05<00:02, 5.51MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:05<00:02, 5.53MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:06<00:02, 5.51MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:06<00:02, 5.60MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:06<00:02, 5.54MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:06<00:02, 5.57MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:06<00:01, 5.56MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:07<00:01, 5.52MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:07<00:01, 5.27MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:07<00:01, 5.53MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:07<00:01, 5.64MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:07<00:00, 5.69MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:07<00:00, 5.77MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:08<00:00, 5.51MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:08<00:00, 5.78MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:08<00:00, 5.83MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:08<00:00, 5.71MB/s]                                                                                         2025-07-22 08:00:28,812 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-22 08:00:29,190 INFO Request ID is f602b4c6-e0b5-4306-9516-9339491c4951
2025-07-22 08:00:29,262 INFO status has been updated to accepted
2025-07-22 08:00:42,868 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-17 at 12:00 UTC...
Could not download data for 2025-07-17. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-17 05:00
Trying the previous day...
Attempting to download data for 2025-07-16 at 12:00 UTC...
3cefe01d53985aed637cbe26b9055e68.nc:   0%|          | 0.00/151k [00:00<?, ?B/s]3cefe01d53985aed637cbe26b9055e68.nc: 100%|██████████| 151k/151k [00:00<00:00, 323kB/s]                                                                                      Successfully downloaded data for 2025-07-16.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Traceback (most recent call last):
  File "/home/dimitris/weather_station/get_anomaly.py", line 220, in <module>
    calculate_and_plot_anomaly(latest_day_file, latest_date)
  File "/home/dimitris/weather_station/get_anomaly.py", line 193, in calculate_and_plot_anomaly
    plt.savefig(output_filename, dpi=300, bbox_inches='tight')
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/pyplot.py", line 1228, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/figure.py", line 3395, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2204, in print_figure
    result = print_method(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2054, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 496, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 445, in _print_pil
    mpl.image.imsave(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/image.py", line 1676, in imsave
    image.save(fname, **pil_kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: './temp_anomaly_map/t850_anomaly_20250716.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-23 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-23 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.11 joule / kilogram
Calculated CIN: -1142.26 joule / kilogram
Calculating instability indices...
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250723_0000.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-23 08:00:09,004 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-23 08:00:09,382 INFO Request ID is 9af8c6c0-79ac-4a18-822f-a0f819276a4d
2025-07-23 08:00:09,703 INFO status has been updated to accepted
2025-07-23 08:00:24,152 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-16.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:35, 1.21MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:01<00:21, 2.00MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:15, 2.64MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:12, 3.20MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:10, 3.70MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:02<00:09, 4.16MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:02<00:08, 4.60MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:02<00:07, 4.83MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:02<00:07, 4.95MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:02<00:06, 5.19MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:02<00:06, 5.23MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:03<00:05, 5.55MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:03<00:05, 5.38MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:03<00:05, 5.39MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:03<00:05, 5.30MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:03<00:05, 5.32MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:04<00:04, 5.39MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:04<00:04, 5.50MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:04<00:04, 5.54MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:04<00:05, 4.02MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:05<00:03, 5.59MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:05<00:03, 5.51MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:05<00:03, 5.51MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:05<00:03, 5.47MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:05<00:03, 5.55MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:06<00:03, 5.36MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:06<00:02, 5.36MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:06<00:03, 4.70MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:06<00:02, 5.79MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:07<00:01, 5.71MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:07<00:01, 5.67MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:07<00:01, 5.72MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:07<00:01, 5.68MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:07<00:01, 5.69MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:07<00:01, 5.65MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:08<00:00, 5.54MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:08<00:00, 5.56MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:08<00:00, 5.55MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:08<00:00, 5.59MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:08<00:00, 5.64MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:09<00:00, 5.64MB/s]                                                                                         2025-07-23 08:00:34,211 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-23 08:00:34,582 INFO Request ID is e772de09-5433-4a5c-8d47-86f5fc9edae7
2025-07-23 08:00:34,665 INFO status has been updated to accepted
2025-07-23 08:00:43,119 INFO status has been updated to running
2025-07-23 08:00:48,311 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-18 at 12:00 UTC...
Could not download data for 2025-07-18. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-18 05:00
Trying the previous day...
Attempting to download data for 2025-07-17 at 12:00 UTC...
bd5b9241ea350889535d6cdf9b0a4797.nc:   0%|          | 0.00/152k [00:00<?, ?B/s]bd5b9241ea350889535d6cdf9b0a4797.nc: 100%|██████████| 152k/152k [00:00<00:00, 399kB/s]                                                                                      Successfully downloaded data for 2025-07-17.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Traceback (most recent call last):
  File "/home/dimitris/weather_station/get_anomaly.py", line 220, in <module>
    calculate_and_plot_anomaly(latest_day_file, latest_date)
  File "/home/dimitris/weather_station/get_anomaly.py", line 193, in calculate_and_plot_anomaly
    plt.savefig(output_filename, dpi=300, bbox_inches='tight')
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/pyplot.py", line 1228, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/figure.py", line 3395, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2204, in print_figure
    result = print_method(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2054, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 496, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 445, in _print_pil
    mpl.image.imsave(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/image.py", line 1676, in imsave
    image.save(fname, **pil_kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: './temp_anomaly_map/t850_anomaly_20250717.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-25 00:00Z...
An error occurred: Error accessing http://weather.uwyo.edu/cgi-bin/sounding/?region=naconf&TYPE=TEXT%3ALIST&YEAR=2025&MONTH=07&FROM=2500&TO=2500&STNM=16622
Server Error (503: Sorry, the server is too busy to process your request.
Please try again later.
)
Could not retrieve or plot data. This might be due to no recent data for the station or a network issue.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-25 08:00:07,438 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-25 08:00:07,780 INFO Request ID is 0ebd8256-c3cb-4cfe-a621-46e4b7669f98
2025-07-25 08:00:07,915 INFO status has been updated to accepted
2025-07-25 08:00:16,534 INFO status has been updated to running
2025-07-25 08:00:21,694 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-17.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:29, 1.49MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:01<00:19, 2.19MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:15, 2.61MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:14, 2.89MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:12, 3.10MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:02<00:11, 3.28MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:02<00:10, 3.43MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:02<00:10, 3.59MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:03<00:09, 3.66MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:03<00:09, 3.80MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:03<00:08, 3.91MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:03<00:08, 3.97MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:04<00:07, 4.03MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:04<00:07, 3.94MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:04<00:07, 4.00MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:04<00:07, 3.97MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:05<00:06, 4.10MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:05<00:06, 4.01MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:05<00:06, 4.03MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:05<00:05, 4.08MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:06<00:05, 4.12MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:06<00:05, 4.21MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:06<00:04, 4.22MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:06<00:04, 4.15MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:07<00:04, 4.20MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:07<00:04, 4.15MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:07<00:03, 4.17MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:07<00:03, 4.21MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:08<00:03, 4.28MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:08<00:03, 4.26MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:08<00:02, 4.19MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:08<00:02, 4.23MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:09<00:02, 4.21MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:09<00:02, 4.29MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:09<00:01, 4.36MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:09<00:01, 4.42MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:10<00:01, 4.51MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:10<00:01, 4.59MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:10<00:00, 4.65MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:10<00:00, 4.18MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:11<00:00, 3.81MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:11<00:00, 3.48MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:11<00:00, 3.35MB/s]                                                                                         2025-07-25 08:00:34,074 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-25 08:00:34,620 INFO Request ID is 0747e3e6-46df-4c78-9df2-10da296963dc
2025-07-25 08:00:34,695 INFO status has been updated to accepted
2025-07-25 08:00:43,394 INFO status has been updated to running
2025-07-25 08:00:48,556 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-20 at 12:00 UTC...
Could not download data for 2025-07-20. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-20 05:00
Trying the previous day...
Attempting to download data for 2025-07-19 at 12:00 UTC...
ac251ed5ac7dafc8015cee4e4fdd5893.nc:   0%|          | 0.00/151k [00:00<?, ?B/s]ac251ed5ac7dafc8015cee4e4fdd5893.nc: 100%|██████████| 151k/151k [00:00<00:00, 427kB/s]                                                                                      Successfully downloaded data for 2025-07-19.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Traceback (most recent call last):
  File "/home/dimitris/weather_station/get_anomaly.py", line 220, in <module>
    calculate_and_plot_anomaly(latest_day_file, latest_date)
  File "/home/dimitris/weather_station/get_anomaly.py", line 193, in calculate_and_plot_anomaly
    plt.savefig(output_filename, dpi=300, bbox_inches='tight')
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/pyplot.py", line 1228, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/figure.py", line 3395, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2204, in print_figure
    result = print_method(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backend_bases.py", line 2054, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 496, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py", line 445, in _print_pil
    mpl.image.imsave(
  File "/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/image.py", line 1676, in imsave
    image.save(fname, **pil_kwargs)
  File "/home/dimitris/.local/lib/python3.9/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: './temp_anomaly_map/t850_anomaly_20250719.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-26 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-26 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 314.26 joule / kilogram
Calculated CIN: -520.73 joule / kilogram
Calculating instability indices...
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250726_0000.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-26 08:00:09,434 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-26 08:00:09,694 INFO Request ID is aa660258-d354-4b4f-a140-ab0e90b58a35
2025-07-26 08:00:10,198 INFO status has been updated to accepted
2025-07-26 08:00:19,101 INFO status has been updated to running
2025-07-26 08:00:24,273 INFO status has been updated to accepted
2025-07-26 08:00:31,964 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-19.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:33, 1.32MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:00<00:17, 2.40MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:12, 3.31MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:10, 3.96MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:08, 4.47MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:01<00:07, 4.84MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:02<00:08, 4.24MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:02<00:07, 5.15MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:02<00:06, 5.37MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:02<00:05, 5.78MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:02<00:05, 5.74MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:02<00:05, 5.68MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:03<00:05, 5.57MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:03<00:05, 5.55MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:03<00:05, 5.59MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:03<00:04, 5.70MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:03<00:04, 5.49MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:03<00:04, 5.35MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:04<00:04, 5.36MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:04<00:04, 5.45MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:04<00:04, 5.58MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:04<00:03, 5.55MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:04<00:03, 5.54MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:05<00:03, 5.52MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:05<00:03, 5.59MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:05<00:03, 5.58MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:05<00:02, 5.54MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:05<00:02, 5.51MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:06<00:02, 5.58MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:06<00:02, 5.66MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:06<00:02, 5.67MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:06<00:01, 5.65MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:06<00:01, 5.75MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:06<00:01, 5.57MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:07<00:01, 5.31MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:07<00:01, 5.66MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:07<00:01, 5.63MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:07<00:00, 5.64MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:07<00:00, 5.69MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:08<00:00, 5.60MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:08<00:00, 5.70MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:08<00:00, 5.58MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:08<00:00, 5.67MB/s]                                                                                         2025-07-26 08:00:41,275 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-26 08:00:41,970 INFO Request ID is 6a85291f-5423-4428-a2ba-110b21c85a92
2025-07-26 08:00:42,051 INFO status has been updated to accepted
2025-07-26 08:00:50,548 INFO status has been updated to running
2025-07-26 08:01:03,380 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-21 at 12:00 UTC...
Could not download data for 2025-07-21. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-21 05:00
Trying the previous day...
Attempting to download data for 2025-07-20 at 12:00 UTC...
65d7bed45fa23925d059757dc265d82b.nc:   0%|          | 0.00/151k [00:00<?, ?B/s]65d7bed45fa23925d059757dc265d82b.nc: 100%|██████████| 151k/151k [00:00<00:00, 395kB/s]                                                                                      Successfully downloaded data for 2025-07-20.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Map saved as '/home/dimitris/weather_station/temp_anomaly_map/t850_anomaly_20250720.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-27 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-27 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Calculating instability indices...
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250727_0000.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-27 08:00:05,651 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-27 08:00:06,160 INFO Request ID is d03ac86c-5904-40f3-8c72-75e3eb3d5a64
2025-07-27 08:00:06,461 INFO status has been updated to accepted
2025-07-27 08:00:15,044 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-20.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:34, 1.26MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:01<00:22, 1.90MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:16, 2.45MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:13, 2.99MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:11, 3.54MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:02<00:09, 4.06MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:02<00:09, 3.83MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:03<00:22, 1.62MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:05<00:35, 984kB/s] 682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:06<00:30, 1.12MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:07<00:26, 1.26MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:07<00:22, 1.42MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:08<00:19, 1.56MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:08<00:18, 1.66MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:09<00:17, 1.69MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:09<00:15, 1.76MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:10<00:14, 1.83MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:10<00:13, 1.87MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:11<00:12, 1.94MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:11<00:11, 2.02MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:12<00:10, 2.12MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:12<00:09, 2.21MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:13<00:08, 2.30MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:13<00:08, 2.37MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:13<00:07, 2.46MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:14<00:06, 2.56MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:14<00:06, 2.62MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:14<00:05, 2.67MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:15<00:05, 2.75MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:15<00:04, 2.88MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:16<00:04, 2.89MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:16<00:03, 2.94MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:16<00:03, 3.02MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:17<00:02, 3.13MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:17<00:02, 3.23MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:17<00:02, 3.31MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:17<00:01, 3.29MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:18<00:01, 3.23MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:18<00:01, 3.14MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:18<00:00, 3.07MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:19<00:00, 3.15MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:19<00:00, 3.18MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:19<00:00, 3.22MB/s]                                                                                         2025-07-27 08:00:35,572 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-27 08:00:35,939 INFO Request ID is 845fae7f-1f25-47d6-9f4e-57b6f82ad53e
2025-07-27 08:00:36,018 INFO status has been updated to accepted
2025-07-27 08:00:44,457 INFO status has been updated to running
2025-07-27 08:00:49,636 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-22 at 12:00 UTC...
Could not download data for 2025-07-22. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-22 05:00
Trying the previous day...
Attempting to download data for 2025-07-21 at 12:00 UTC...
92585e1eb59a6d3a7cae1972122c2ee4.nc:   0%|          | 0.00/151k [00:00<?, ?B/s]92585e1eb59a6d3a7cae1972122c2ee4.nc: 100%|██████████| 151k/151k [00:00<00:00, 376kB/s]                                                                                      Successfully downloaded data for 2025-07-21.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Map saved as '/home/dimitris/weather_station/temp_anomaly_map/t850_anomaly_20250721.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
/home/dimitris/weather_station/plot_skewt.py:104: UserWarning: Interpolation point out of data bounds encountered
  si_val = mpcalc.showalter_index(p, T, Td)
/home/dimitris/weather_station/plot_skewt.py:111: UserWarning: Interpolation point out of data bounds encountered
  k_val = mpcalc.k_index(p, T, Td)
/home/dimitris/weather_station/plot_skewt.py:118: UserWarning: Interpolation point out of data bounds encountered
  tt_val = mpcalc.total_totals_index(p, T, Td)
Attempting to fetch data for station 16622 for 2025-07-28 00:00Z...
Data fetched successfully.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-28 00:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Calculating instability indices...
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/LGTS_sounding_20250728_0000.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-28 08:00:05,249 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-28 08:00:05,509 INFO Request ID is 4525d7eb-afb3-47c9-8621-d507996e0181
2025-07-28 08:00:05,610 INFO status has been updated to accepted
2025-07-28 08:00:19,543 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-21.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:02<01:49, 399kB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:03<01:00, 701kB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:03<00:43, 953kB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:04<00:34, 1.17MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:05<00:29, 1.34MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:05<00:25, 1.51MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:06<00:23, 1.62MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:06<00:20, 1.77MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:07<00:18, 1.87MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:07<00:17, 2.01MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:08<00:15, 2.14MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:08<00:14, 2.27MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:08<00:13, 2.35MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:09<00:12, 2.45MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:09<00:11, 2.56MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:09<00:10, 2.69MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:10<00:09, 2.71MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:10<00:09, 2.72MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:11<00:08, 2.80MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:11<00:08, 2.85MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:11<00:07, 3.08MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:11<00:06, 3.26MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:12<00:05, 3.46MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:12<00:05, 3.65MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:12<00:04, 3.86MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:12<00:04, 4.10MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:13<00:03, 4.31MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:13<00:03, 4.50MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:13<00:03, 4.72MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:13<00:02, 4.94MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:13<00:02, 5.17MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:14<00:02, 5.30MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:14<00:01, 5.43MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:14<00:01, 5.39MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:14<00:01, 5.50MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:14<00:01, 5.61MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:15<00:01, 5.65MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:15<00:00, 5.66MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:15<00:00, 5.65MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:15<00:00, 5.72MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:15<00:00, 5.67MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:15<00:00, 5.59MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:16<00:00, 5.57MB/s]                                                                                         2025-07-28 08:00:36,705 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-28 08:00:37,209 INFO Request ID is da737d27-90e6-484a-afb7-d4d065b2d216
2025-07-28 08:00:37,302 INFO status has been updated to accepted
2025-07-28 08:00:51,082 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-23 at 12:00 UTC...
Could not download data for 2025-07-23. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-23 05:00
Trying the previous day...
Attempting to download data for 2025-07-22 at 12:00 UTC...
b3186b62e9fce004902f6101a82f96af.nc:   0%|          | 0.00/150k [00:00<?, ?B/s]b3186b62e9fce004902f6101a82f96af.nc: 100%|██████████| 150k/150k [00:00<00:00, 424kB/s]                                                                                      Successfully downloaded data for 2025-07-22.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Map saved as '/home/dimitris/weather_station/temp_anomaly_map/t850_anomaly_20250722.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-29 08:00:04,588 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-29 08:00:04,821 INFO Request ID is fae11883-012d-48ab-bf79-1173f93f3a55
2025-07-29 08:00:04,911 INFO status has been updated to accepted
2025-07-29 08:00:18,877 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-22.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:01<00:50, 859kB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:03<01:03, 674kB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:04<01:03, 652kB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:05<00:48, 830kB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:06<00:39, 997kB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:06<00:32, 1.17MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:07<00:27, 1.34MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:07<00:24, 1.49MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:08<00:21, 1.65MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:08<00:19, 1.78MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:09<00:17, 1.90MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:09<00:15, 2.02MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:10<00:14, 2.14MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:10<00:13, 2.23MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:10<00:12, 2.35MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:11<00:11, 2.47MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:11<00:10, 2.56MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:11<00:09, 2.69MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:12<00:08, 2.80MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:12<00:08, 2.94MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:12<00:07, 3.13MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:13<00:07, 3.08MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:13<00:06, 3.09MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:13<00:06, 3.17MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:14<00:05, 3.24MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:14<00:05, 3.28MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:14<00:04, 3.39MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:15<00:04, 3.46MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:15<00:04, 3.54MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:15<00:03, 3.60MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:15<00:03, 3.66MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:16<00:03, 3.59MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:16<00:02, 3.67MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:16<00:02, 3.54MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:17<00:02, 3.42MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:17<00:02, 3.30MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:17<00:01, 3.24MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:18<00:01, 3.33MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:18<00:01, 3.20MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:18<00:00, 3.01MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:19<00:00, 2.96MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:19<00:00, 2.86MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:19<00:00, 2.89MB/s]                                                                                         2025-07-29 08:00:39,874 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-29 08:00:40,340 INFO Request ID is 9f0a357a-1ed8-4e93-84fa-e401693d00a5
2025-07-29 08:00:40,422 INFO status has been updated to accepted
2025-07-29 08:00:54,106 INFO status has been updated to running
2025-07-29 08:01:01,813 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-24 at 12:00 UTC...
Could not download data for 2025-07-24. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-24 05:00
Trying the previous day...
Attempting to download data for 2025-07-23 at 12:00 UTC...
253302c48c26925f4037013f2375b89f.nc:   0%|          | 0.00/150k [00:00<?, ?B/s]253302c48c26925f4037013f2375b89f.nc: 100%|██████████| 150k/150k [00:00<00:00, 377kB/s]                                                                                      Successfully downloaded data for 2025-07-23.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Map saved as '/home/dimitris/weather_station/temp_anomaly_map/t850_anomaly_20250723.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-29 06:00Z...
Data fetched successfully for 2025-07-29 06:00Z.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-29 06:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Calculating instability indices...
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/16622_sounding_20250729_0600.png
Plot displayed.
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
2025-07-30 08:00:04,791 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-30 08:00:05,374 INFO Request ID is 41e5e67f-db49-4671-83da-938018b42a8b
2025-07-30 08:00:05,671 INFO status has been updated to accepted
2025-07-30 08:00:14,257 INFO status has been updated to running
2025-07-30 08:00:19,409 INFO status has been updated to successful
Forcing a fresh download by removing old file: t850_latest_2025-07-23.nc
Domain area may have changed. Removing old climatology file: t850_climatology_1975-2005.nc
Downloading monthly climatology data (1975-2005)...
682d34380d7090c4965a52f16397270f.nc:   0%|          | 0.00/42.6M [00:00<?, ?B/s]682d34380d7090c4965a52f16397270f.nc:   2%|▏         | 1.00M/42.6M [00:00<00:28, 1.54MB/s]682d34380d7090c4965a52f16397270f.nc:   5%|▍         | 2.00M/42.6M [00:00<00:16, 2.57MB/s]682d34380d7090c4965a52f16397270f.nc:   7%|▋         | 3.00M/42.6M [00:01<00:12, 3.44MB/s]682d34380d7090c4965a52f16397270f.nc:   9%|▉         | 4.00M/42.6M [00:01<00:09, 4.11MB/s]682d34380d7090c4965a52f16397270f.nc:  12%|█▏        | 5.00M/42.6M [00:01<00:08, 4.54MB/s]682d34380d7090c4965a52f16397270f.nc:  14%|█▍        | 6.00M/42.6M [00:01<00:07, 4.86MB/s]682d34380d7090c4965a52f16397270f.nc:  16%|█▋        | 7.00M/42.6M [00:02<00:17, 2.09MB/s]682d34380d7090c4965a52f16397270f.nc:  19%|█▉        | 8.00M/42.6M [00:04<00:36, 1.01MB/s]682d34380d7090c4965a52f16397270f.nc:  21%|██        | 9.00M/42.6M [00:05<00:34, 1.03MB/s]682d34380d7090c4965a52f16397270f.nc:  23%|██▎       | 10.0M/42.6M [00:06<00:29, 1.14MB/s]682d34380d7090c4965a52f16397270f.nc:  26%|██▌       | 11.0M/42.6M [00:07<00:26, 1.26MB/s]682d34380d7090c4965a52f16397270f.nc:  28%|██▊       | 12.0M/42.6M [00:07<00:23, 1.38MB/s]682d34380d7090c4965a52f16397270f.nc:  30%|███       | 13.0M/42.6M [00:08<00:20, 1.48MB/s]682d34380d7090c4965a52f16397270f.nc:  33%|███▎      | 14.0M/42.6M [00:08<00:18, 1.61MB/s]682d34380d7090c4965a52f16397270f.nc:  35%|███▌      | 15.0M/42.6M [00:09<00:17, 1.68MB/s]682d34380d7090c4965a52f16397270f.nc:  38%|███▊      | 16.0M/42.6M [00:09<00:15, 1.79MB/s]682d34380d7090c4965a52f16397270f.nc:  40%|███▉      | 17.0M/42.6M [00:10<00:14, 1.91MB/s]682d34380d7090c4965a52f16397270f.nc:  42%|████▏     | 18.0M/42.6M [00:10<00:12, 2.03MB/s]682d34380d7090c4965a52f16397270f.nc:  45%|████▍     | 19.0M/42.6M [00:11<00:11, 2.16MB/s]682d34380d7090c4965a52f16397270f.nc:  47%|████▋     | 20.0M/42.6M [00:11<00:10, 2.21MB/s]682d34380d7090c4965a52f16397270f.nc:  49%|████▉     | 21.0M/42.6M [00:12<00:09, 2.29MB/s]682d34380d7090c4965a52f16397270f.nc:  52%|█████▏    | 22.0M/42.6M [00:12<00:09, 2.37MB/s]682d34380d7090c4965a52f16397270f.nc:  54%|█████▍    | 23.0M/42.6M [00:12<00:08, 2.45MB/s]682d34380d7090c4965a52f16397270f.nc:  56%|█████▋    | 24.0M/42.6M [00:13<00:07, 2.55MB/s]682d34380d7090c4965a52f16397270f.nc:  59%|█████▊    | 25.0M/42.6M [00:13<00:07, 2.63MB/s]682d34380d7090c4965a52f16397270f.nc:  61%|██████    | 26.0M/42.6M [00:14<00:06, 2.68MB/s]682d34380d7090c4965a52f16397270f.nc:  63%|██████▎   | 27.0M/42.6M [00:14<00:05, 2.84MB/s]682d34380d7090c4965a52f16397270f.nc:  66%|██████▌   | 28.0M/42.6M [00:14<00:05, 3.02MB/s]682d34380d7090c4965a52f16397270f.nc:  68%|██████▊   | 29.0M/42.6M [00:14<00:04, 3.21MB/s]682d34380d7090c4965a52f16397270f.nc:  70%|███████   | 30.0M/42.6M [00:15<00:03, 3.32MB/s]682d34380d7090c4965a52f16397270f.nc:  73%|███████▎  | 31.0M/42.6M [00:15<00:03, 3.43MB/s]682d34380d7090c4965a52f16397270f.nc:  75%|███████▌  | 32.0M/42.6M [00:15<00:03, 3.66MB/s]682d34380d7090c4965a52f16397270f.nc:  77%|███████▋  | 33.0M/42.6M [00:16<00:02, 3.92MB/s]682d34380d7090c4965a52f16397270f.nc:  80%|███████▉  | 34.0M/42.6M [00:16<00:02, 4.16MB/s]682d34380d7090c4965a52f16397270f.nc:  82%|████████▏ | 35.0M/42.6M [00:16<00:01, 4.43MB/s]682d34380d7090c4965a52f16397270f.nc:  84%|████████▍ | 36.0M/42.6M [00:16<00:01, 4.67MB/s]682d34380d7090c4965a52f16397270f.nc:  87%|████████▋ | 37.0M/42.6M [00:16<00:01, 4.83MB/s]682d34380d7090c4965a52f16397270f.nc:  89%|████████▉ | 38.0M/42.6M [00:17<00:00, 5.01MB/s]682d34380d7090c4965a52f16397270f.nc:  91%|█████████▏| 39.0M/42.6M [00:17<00:00, 5.22MB/s]682d34380d7090c4965a52f16397270f.nc:  94%|█████████▍| 40.0M/42.6M [00:17<00:00, 5.26MB/s]682d34380d7090c4965a52f16397270f.nc:  96%|█████████▌| 41.0M/42.6M [00:17<00:00, 5.40MB/s]682d34380d7090c4965a52f16397270f.nc:  98%|█████████▊| 42.0M/42.6M [00:17<00:00, 5.26MB/s]682d34380d7090c4965a52f16397270f.nc: 100%|██████████| 42.6M/42.6M [00:17<00:00, 5.24MB/s]                                                                                         2025-07-30 08:00:37,963 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
2025-07-30 08:00:38,587 INFO Request ID is 33a51ebb-81f8-4545-80a8-b2edf654c649
2025-07-30 08:00:38,663 INFO status has been updated to accepted
2025-07-30 08:00:47,182 INFO status has been updated to running
2025-07-30 08:01:00,012 INFO status has been updated to successful
Climatology download complete.
Attempting to download data for 2025-07-25 at 12:00 UTC...
Could not download data for 2025-07-25. Error: 400 Client Error: Bad Request for url: https://cds.climate.copernicus.eu/api/retrieve/v1/processes/reanalysis-era5-pressure-levels/execution
invalid request
None of the data you have requested is available yet, please revise the period requested. The latest date available for this dataset is: 2025-07-25 05:00
Trying the previous day...
Attempting to download data for 2025-07-24 at 12:00 UTC...
da09e7bb49d43897c1e8ed3a247ec52d.nc:   0%|          | 0.00/151k [00:00<?, ?B/s]da09e7bb49d43897c1e8ed3a247ec52d.nc: 100%|██████████| 151k/151k [00:00<00:00, 284kB/s]                                                                                      Successfully downloaded data for 2025-07-24.
Loading datasets with xarray...
Calculating anomaly for month: 7
Plotting the anomaly map...
Map saved as '/home/dimitris/weather_station/temp_anomaly_map/t850_anomaly_20250724.png'
/home/dimitris/.local/lib/python3.9/site-packages/matplotlib/projections/__init__.py:63: UserWarning: Unable to import Axes3D. This may be due to multiple versions of Matplotlib being installed (e.g. as a system package and as a pip package). As a result, the 3D projection is not available.
  warnings.warn("Unable to import Axes3D. This may be due to multiple versions of "
Attempting to fetch data for station 16622 for 2025-07-30 06:00Z...
Data fetched successfully for 2025-07-30 06:00Z.
Processing data for Thessaloniki International Airport (LGTS) at 2025-07-30 06:00Z.
Using mixed-layer parcel (mean of lowest 3 points).
Calculated CAPE: 0.00 joule / kilogram
Calculated CIN: 0.00 joule / kilogram
Calculating instability indices...
Could not calculate K-Index, likely due to missing data within the 850-700 hPa layer. Error: Cannot convert from 'degree_Celsius' to 'delta_degree_Celsius'
Generating Skew-T plot...
Plot saved to: /home/dimitris/weather_station/upper_air_soundings/16622_sounding_20250730_0600.png
Plot displayed.
